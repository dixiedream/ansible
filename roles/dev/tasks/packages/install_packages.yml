- name: packages | install required packages
  package:
    name:
      - docker
      - docker-compose
      - npm
      - php
      - ripgrep
    state: latest

- name: packages | ensure docker service is not enabled
  service: 
    name: docker
    state: stopped
    enabled: no

- name: packages | ensure containerd service is not enabled
  service: 
    name: containerd
    state: stopped
    enabled: no

- name: users | ale | ensure ale is in docker group (Debian)
  user:
    name: ale
    groups: docker
    append: yes
  when: ansible_os_family == "Debian"

# - name: packages | ensure php service is not enabled
#   service:
#     name: php8.1-fpm
#     state: stopped
#     enabled: no
