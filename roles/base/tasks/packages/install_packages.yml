- name: packages | install packages
  package:
    name:
      - "{{ acpi_call_package }}"
      - arandr
      - atool
      - autorandr
      - bc
      - bleachbit
      - bluez
      - "{{ bluez_utils_package }}"
      - brightnessctl
      - cmus
      - dosfstools
      - dunst
      - "{{ exfat_utils_package }}"
      - fzf
      - gzip
      - htop
      - imagemagick
      - maim
      - man-db
      - mpv
      - ncdu
      - neofetch
      - neovim
      - "{{ noto_fonts_package }}"
      - "{{ noto_fonts_emoji_package }}" 
      - ntfs-3g
      - p7zip
      - pavucontrol
      - pipewire
      - pipewire-alsa
      - pipewire-pulse
      - playerctl
      - s-tui
      - slock
      - sxiv
      - unclutter
      - "{{ unrar_package }}"
      - unzip
      - yt-dlp
      - xclip
      - xcompmgr
      - "{{ xorg_server_package }}"
      - "{{ xorg_xinit_package }}"
      - "{{ xorg_xrandr_package }}"
      - xwallpaper
      - zathura
      - "{{ zathura_pdf_support_package }}"
      - zip
      - zsh
    state: latest

- name: packages | install Xsetroot (Arch Linux)
  pacman:
    name:
      - xorg-xsetroot
    state: latest
  when: ansible_distribution == "ArchLinux"

- name: packages | install Pacman Contrib package (Arch linux)
  pacman:
    name:
      - pacman-contrib
    state: latest
  when: ansible_distribution == "ArchLinux"

- name: packages | install AUR packages (Arch linux)
  pacman:
    name:
      - auto-cpufreq
      - lf
      - libxft-bgra-git
      - nordic-theme-git
    state: present
    executable: yay
    extra_args: --builddir /var/cache/yay
  when: ansible_distribution == "ArchLinux"

- name: packages | clone auto-cpufreq repo (Debian)
  git:
    repo: https://github.com/AdnanHodzic/auto-cpufreq.git
    dest: ~/src/auto-cpufreq
  when: ansible_distribution in ["Debian", "Ubuntu"]

- name: packages | install auto-cpufreq (Debian)
  shell: ./auto-cpufreq-installer --install
  args:
    chdir: ~/src/auto-cpufreq
  when: ansible_distribution in ["Debian", "Ubuntu"]

- name: packages | start and enable auto-cpufreq (Arch linux)
  service: 
    name: auto-cpufreq
    state: started
    enabled: yes
  when: ansible_distribution == "ArchLinux"
