---
- name: Packages
  become: true
  block:
    - name: packages | Install common packages
      ansible.builtin.package:
        name:
          - sxiv
        state: latest

    - name: packages | Window manager
      when: x11_install_type is not defined or x11_install_type == 'wm'
      block:
        - name: packages | Install window managers required packages
          ansible.builtin.package:
            name:
              - arandr
              - autorandr
              - dunst
              - maim
              - playerctl
              - slock
              - unclutter
              - xclip
              - xcompmgr
              - "{{ xorg_server_package }}"
              - "{{ xorg_xinit_package }}"
              - "{{ xorg_xrandr_package }}"
              - xwallpaper
            state: latest
          when: ansible_distribution in ["Archlinux", "Artix Linux", "Debian", "Ubuntu"]

        - name: packages | Install Xsetroot (Archlinux)
          community.general.pacman:
            name:
              - xorg-xsetroot
            state: latest
          when: ansible_distribution in ["Archlinux", "Artix Linux"]
